# 图解HTTP

## Web及网络基础

### HTTP访问Web发生了什么

- 浏览器输入URL
- 通过**HTTP（HyperText Transfer Protocol，超文本传输协议）**来获取Web服务器端的的文件资源
- 通过相应资源来显示Web页面

**Web是建立在HTTP协议上通信的**



### HTTP的诞生

#### 1.Web技术的诞生

1989.3 HTTP诞生，其基本理念是：借助多文档之间相互关联形成的**超文本（HyperText）**，连成可相互参阅的 **WWW（World Wide Web，万维网）**。

现有3项WWW构建技术：

- 页面的文本标记语言的 **HTML（HyperText Markup Language，超文本标记语言）**
- 文档传递协议的**HTTP**
- 指定文档所在地址的**URL（Uniform Resource Locator，统一资源定位符）**

#### 2.Web的历史

- 1990：CERN成功研发了世界上第一台Web服务器；讨论了HTML1.0草案但被废弃。
- 1993：现代浏览器的祖先 NCSA研发的Mosaic 问世了，它以 **in-line（内联）**等形式显示 **HTML** 的图像，并在世界范围内流行。
- 1994 年 的 12 月，网景通信公司发布了 Netscape Navigator 1.0。1995年微软公司发布 Internet Explorer 1.0 和 2.0。微软与网景之间浏览器竞争导致了**Web标准化的不佳**。
-  随后，Web 服务器标准之一的 Apache以0.2 版本的姿态出现在世人眼前。HTML也发布了 2.0 版本。
- 2004，Firebox浏览器发布。不同浏览器的市场份额抢占继续发生（tips：写笔记的现在，不同浏览器之间的标准已经基本统一，IE浏览器也成为了历史>_<）

#### 3.HTTP的历史

- 1990：HTTP并没有被作为正式标准建立，即HTTP/0.9
- 1996：HTTP1.0发布
- 1997：HTTP1.1发布
- （现在已经HTTP3.0了）



### 网络基础TCP/IP

**不同的硬件、操作系统之间的通信，所有的这一切都需要一种规则。**而我们就把这种规则称为**协议（protocol）**。

网络是在**TCP/IP**协议族的**基础**上运行的，HTTP是基于改协议的一个**子集**。

**互联网相关联的协议集合起来总称为 TCP/IP**。也有说法认为，TCP/IP 是指 TCP 和 IP 这两种协议。还有一种说法认为，TCP/IP 是在 IP 协议的通信过程中，使用到的协议族的统称。



TCP/IP 协议族按层次分别分为以下 4 层：应用层、传输层、网络层和数据链路层。
**应用层：**应用层决定了**向用户提供应**用服务时通信的活动。（FTP、DNS、HTTP）

**传输层：**传输层对上层应用层，提供处于网络连接中的两台计算机之间的**数据传输**。（TCP、UDP）

**网络层：**网络层用来处理在网络上流动的数据包。（**数据包的传输路线**）

**链路层：**用来处理连接网络的**硬件**部分。（包括控制操作系统、硬件的设备驱动、网络适配器，及光纤等物理可见部分）



HTTP的通信过程：

发送端在层与层之间传输数据时，每经过一层时必定会被打上一个该层所属的首部信息。反之，接收端在层与层传输数据时，每经过一层时会把对应的首部消去。这种把数据信息包装起来的做法称为**封装（encapsulate）**。

![image-20230717214724898](http://songcheng-typora.oss-cn-shanghai.aliyuncs.com/img/image-20230717214724898.png)



使用HTTP主要涉及到的协议：

**IP协议：**IP 协议的作用是把各种数据包传送给对方。需要IP地址和MAC地址（会进行配对）

**TCP协议：**位于传输层，提供可靠的字节流服务。字节流服务（Byte Stream Service）是指，为了方便传输，将大块数据分割成以报文段（segment）为单位的数据包进行管理。

​	**TCP协议三次握手：**

​		发送端首先发送一个带 SYN 标志的数据包给对方。接收端收到后，回传一个带有 SYN/ACK 标志的		数据包以示传达确认信息。最后，发送端再回传一个带 ACK 标志的数据包，代表“握手”结束。

**DNS服务：**DNS（Domain Name System）服务是和 HTTP 协议一样位于应用层的协议。它提供域名到 IP 地址之间的解析服务。（域名 》IP地址》MAC地址）

![image-20230717221526181](http://songcheng-typora.oss-cn-shanghai.aliyuncs.com/img/image-20230717221526181.png)



URI和URL：

URI（统一资源标识符）用字符串标识某一互联网资源，而URL（Uniform Resource Locator，统一资源定位符） 表示资源的地点（互联网上所处的位置）。 **URL 是 URI 的子集。**

